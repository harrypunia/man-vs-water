function allowAudio(e){"yes"==e.currentTarget.id?(playAudios(),permitAudio=!0,buttonAudio.play(),muteIcon[0].style.display="block",removePermissionForm("yes")):(removePermissionForm("no"),permitAudio=!1,muteIcon[1].style.display="block")}function validateForm(){""==document.getElementById("fname").value?showError("form__wrapper__input"):ifMapSelected&&(gatherInfo(),stopP5(),pauseAudios(),playGame()),formButton.removeEventListener("click",validateForm,!1)}function selectMap(e){ifMapSelected=!0,clearMapSelections();document.getElementById(e.currentTarget.id).classList.add("mapSelected")}function enterLobby(){playerId=ref.push().key,ref.child(playerId).child("orientation").set({position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}}),console.log(getPlayersJoined()),0==playersJoined?(console.log("new Lobby was created"),lobbyRef.child("Players").set({p1:playerId})):console.log("Lobby already exists")}function getPlayersJoined(){lobbyRef.on("value",function(e){return e.numChildren()})}function playGame(){initThreeJs(),displayUI(),hideNavigation()}function displayUI(){document.getElementsByClassName("UI")[0].style.display="block"}function hideNavigation(){headphone.innerHTML="",navigation.innerHTML="",form.innerHTML="",side.innerHTML=""}function clearMapSelections(){for(var e=0;e<maps.length;e++)maps[e].classList.remove("mapSelected")}function mapSize(){for(var e=0;e<maps.length;e++)if(maps[e].classList.contains("mapSelected"))return 0==e?"large":1==e?"medium":"small"}function gatherInfo(){var e=document.getElementsByClassName("form")[0],n=document.getElementById("fname"),o=document.getElementById("playerType");playerType=o.value,playerName=n.value,arenaSizeSelected=mapSize(),e.innerHTML="",e.style.display="none"}function showError(e){for(var n=document.getElementsByClassName(e),o=0;o<n.length;o++)n[o].style.animation=".1s error ease-in-out 3",setTimeout(function(){n[o].style.animation="0"},90)}function stopP5(){container.removeChild(canvas);stopP5Draw=!0}function playAudios(){introAudio.play(),introAudio.loop=!0,rain.play(),rain.volume=.1,rain.loop=!0}function pauseAudios(){introAudio.pause(),rain.pause();for(var e=0;e<p5Sounds.length;e++)p5Sounds[e].pause()}function removePermissionForm(e){permission.style.animation="yes"==e?"permissionOutYES .4s ease-in":"permissionOutNO .4s ease-in",setTimeout(function(){permission.style.display="none",permission.innerHTML=""},390),form.style.opacity=1}function changeAudioPermissions(e){"mute"==e.currentTarget.id?(muteIcon[0].style.display="none",muteIcon[1].style.display="block",permitAudio=!1,pauseAudios()):(muteIcon[0].style.display="block",muteIcon[1].style.display="none",permitAudio=!0,playAudios())}function openMenu(){menuStatus?(menu.classList.remove("openMenu"),burger.classList.remove("cross"),menuStatus=!1):(menu.classList.add("openMenu"),burger.classList.add("cross"),menuStatus=!0)}formButton.addEventListener("click",validateForm,!1),window.addEventListener("keydown",function(e){13!=e.keyCode&&13!=e.which||validateForm()},!1);