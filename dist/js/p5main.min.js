function setup(){createCanvas(window.innerWidth,window.innerHeight).parent(container),particles=[];for(var e=0;e<300;e++)particles[e]=new Particle(Math.floor(Math.random()*window.innerWidth),Math.floor(Math.random()*window.innerHeight))}function draw(){if(background(10,5,33),++frameRateCounter>=20&&(showFrameRate.innerHTML=Math.floor(frameRate()),frameRateCounter=1),rainIntensity=document.getElementById("rainIntensity").value,dropThickness=document.getElementById("dropThickness").value,thunderFrequency=document.getElementById("thunderFreq").value,windSpeed=document.getElementById("windSpeed").value,airFriction=document.getElementById("airFriction").value,rainShape=document.getElementById("rainShape").value,rainSpeed=document.getElementById("rainSpeed").value,1==Math.floor(Math.random()*thunderFrequency)){background(200,200,200);for(var e=0;e<rainIntensity;e++)particles[e].applyWind(windSpeed);if(1==permitAudio){var n=Math.floor(3*Math.random());p5Sounds[n].play(),p5Sounds[n].volume=2==n?.1:.5}}for(e=0;e<rainIntensity;e++)particles[e].update(airFriction,rainSpeed),particles[e].show(dropThickness,rainShape);performanceIndicator(frameRate()),stopP5Draw&&noLoop()}function performanceIndicator(e){p5Performance.style.background=e>=50?"green":e>=30?"yellow":"red"}function resetP5Parameters(){document.getElementById("rainIntensity").value=100,document.getElementById("dropThickness").value=1,document.getElementById("thunderFreq").value=300,document.getElementById("windSpeed").value=5,document.getElementById("airFriction").value=.05,document.getElementById("rainShape").value=1,document.getElementById("rainSpeed").value=7}var p,rainIntensity,dropThickness,thunderFrequency,windSpeed,airFriction,rainShape,rainSpeed,particles=[],stopP5Draw=!1,p5Performance=document.getElementsByClassName("performanceCircle")[0],showFrameRate=document.getElementsByClassName("frameRateShow")[0],frameRateCounter=20;window.addEventListener("resize",function(){resizeCanvas(window.innerWidth,window.innerHeight)});